"use strict";function _defineProperties(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _classPrivateFieldGet(e,t){var a=t.get(e);if(!a)throw new TypeError("attempted to get private field on non-instance");return a.get?a.get.call(e):a.value}function _classPrivateFieldSet(e,t,a){var s=t.get(e);if(!s)throw new TypeError("attempted to set private field on non-instance");if(s.set)s.set.call(e,a);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=a}return a}function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _classCallCheck(e,t){if(!_instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var SpriteSheet=function e(t,a,s,i,r){var o=this;_classCallCheck(this,e),_defineProperty(this,"update",function(){if(o.currentFrame!=o.endFrame-1)return o.counter==o.frameSpeed-1&&(o.currentFrame=(o.currentFrame+1)%o.endFrame),o.counter=(o.counter+1)%o.frameSpeed,o.counter;o.currentFrame=o.endFrame}),_defineProperty(this,"draw",function(e,t,a){var s=Math.floor(o.currentFrame/o.framesPerRow),i=Math.floor(o.currentFrame%o.framesPerRow);a.drawImage(o.image,i*o.frameWidth,s*o.frameHeight,o.frameWidth,o.frameHeight,e,t,o.frameWidth,o.frameHeight)}),this.path=t,this.frameHeight=s,this.frameWidth=a,this.endFrame=i,this.frameSpeed=r,this.image=new Image,this.framesPerRow,this.image.onload=function(){o.framesPerRow=Math.floor(o.image.width/a)},this.image.src=t,this.currentFrame=0,this.counter=0},Game=function(){function y(e){var r=this,t=e.field,a=e.ship,s=e.score,i=e.msgBox,o=e.canvas,n=e.timeLevel,l=e.enemiesGenerationSpeed,d=e.fireSpeed,c=e.controlType;_classCallCheck(this,y),_paused.set(this,{writable:!0,value:!1}),_slowMotion.set(this,{writable:!0,value:1}),_magnitoPoint.set(this,{writable:!0,value:{}}),_autoFire.set(this,{writable:!0,value:!0}),_timer.set(this,{writable:!0,value:0}),_timeLine.set(this,{writable:!0,value:0}),_tik.set(this,{writable:!0,value:20}),_speed.set(this,{writable:!0,value:.1}),_accelerate.set(this,{writable:!0,value:.1}),_enemyDy.set(this,{writable:!0,value:1}),_animateID.set(this,{writable:!0,value:0}),_score.set(this,{writable:!0,value:0}),_skyPosY.set(this,{writable:!0,value:0}),_mode.set(this,{writable:!0,value:"normal"}),_bang.set(this,{writable:!0,value:new SpriteSheet("./img/bang.png",128,128,48,2)}),_defineProperty(this,"drawAll",function(){r.ship.style.left=r.player.x+"vw",r.ship.style.top=r.player.y+"vh",r.shoots.forEach(function(e){e.style.left=e.x+"vw",e.style.top=e.y+"vh"}),r.enemies.forEach(function(e){e.style.left=e.x+"vw",e.style.top=e.y+"vh"}),r.enemyShoots.forEach(function(e){e.style.left=e.x+"vw",e.style.top=e.y+"vh"}),r.bonuses.forEach(function(e){e.style.left=e.x+"vw",e.style.top=e.y+"vh"})}),_defineProperty(this,"backgroundShift",function(){_classPrivateFieldSet(r,_skyPosY,_classPrivateFieldGet(r,_skyPosY)+_classPrivateFieldGet(r,_speed)),100<=_classPrivateFieldGet(r,_skyPosY)&&_classPrivateFieldSet(r,_skyPosY,0),r.field.style.backgroundPositionY=_classPrivateFieldGet(r,_skyPosY)+"vh",r.canvas.used&&(r.canvas.style.top=Number(r.canvas.style.top.slice(0,-2))+r.speed+"vh")}),_defineProperty(this,"shipMove",function(){r.enemies.some(function(e){return e.x+5>r.player.x&&e.x+5<r.player.x+6&&e.y+6>r.player.y&&e.y+6<r.player.y+6||e.x+5>r.player.x&&e.x+5<r.player.x+6&&e.y>r.player.y&&e.y<r.player.y+6||e.x>r.player.x&&e.x<r.player.x+6&&e.y+6>r.player.y&&e.y+6<r.player.y+6||e.x>r.player.x&&e.x<r.player.x+6&&e.y>r.player.y&&e.y<r.player.y+6})&&r.loseMessage(),"wasd"==r.control&&(r.player.x+r.player.dx*r.player.speed<=0||97<r.player.x+r.player.dx*r.player.speed?r.player.dx=0:r.player.x+=r.player.dx*r.player.speed,r.player.y+r.player.dy*r.player.speed<=0||92<r.player.y+r.player.dy*r.player.speed?r.player.dy=0:r.player.y+=r.player.dy*r.player.speed),"mouse"==r.control&&(r.player.x+r.player.dx*r.player.speed<=0||97<r.player.x+r.player.dx*r.player.speed?r.player.dx=0:Math.abs(r.magnitoPoint.x-2-r.player.x-r.player.dx*r.player.speed)<Math.abs(r.magnitoPoint.x-2-r.player.x)?r.player.x+=r.player.dx*r.player.speed:r.player.dx=0,r.player.y+r.player.dy*r.player.speed<=0||92<r.player.y+r.player.dy*r.player.speed?r.player.dy=0:Math.abs(r.magnitoPoint.y-3-r.player.y-r.player.dy*r.player.speed)<Math.abs(r.magnitoPoint.y-3-r.player.y)?r.player.y+=r.player.dy*r.player.speed:r.player.dy=0),r.bonuses.forEach(function(e,t){3<Math.abs(e.x-r.player.x)||3<Math.abs(e.y-r.player.y)||(r.field.removeChild(e),r.bonuses.splice(t,1),r.bonusActivate(e.type))}),r.shoots.forEach(function(e,t){return e.x+e.dx*e.speed<=-2||101<e.x+e.dx*e.speed?(r.field.removeChild(e),void r.shoots.splice(t,1)):(e.x+=e.dx*e.speed,e.y+e.dy*e.speed<=-2||101<e.y+e.dy*e.speed?(r.field.removeChild(e),void r.shoots.splice(t,1)):void(e.y+=e.dy*e.speed))})}),_defineProperty(this,"enemiesMove",function(){r.enemies.forEach(function(s,i){if(2!==s.type&&7!==s.type||(s.shootTimer=s.shootTimer+1||0),100<s.shootTimer){s.shootTimer=0;var e=document.createElement("div");r.field.appendChild(e),e.x=s.x+2.2,e.y=s.y+1.7,e.dx=0,e.dy=1,e.speed=1,e.type=1,e.classList.add("shoot"),e.classList.add("shootEnemy".concat(e.type)),r.enemyShoots.push(e)}r.shoots.forEach(function(e,t){if(e.x>s.x&&e.x<s.x+5&&e.y>s.y&&e.y<s.y+6){if(s.health||0<s.health)return s.health--,r.canvas.style.left=s.x-3+"vw",r.canvas.style.top=s.y+"vh",_classPrivateFieldSet(r,_animateID,1+ +_classPrivateFieldGet(r,_animateID)),r.animate(),r.field.removeChild(e),void r.shoots.splice(t,1);if(r.canvas.style.left=s.x-3+"vw",r.canvas.style.top=s.y+"vh",r.addScore(100*s.type),100*Math.random()<10){var a=document.createElement("div");r.field.appendChild(a),a.x=s.x,a.y=s.y,a.dx=0,a.dy=1,a.type=1+Math.floor(4*Math.random()),a.speed=s.speed,a.timerRotateMax=5,a.classList.add("bonus"),a.classList.add("bonus".concat(a.type)),r.bonuses.push(a)}try{r.field.removeChild(s)}catch(e){console.log(e),s.style.opacity=0,r.refreshField()}r.enemies.splice(i,1),r.field.removeChild(e),r.shoots.splice(t,1),_classPrivateFieldSet(r,_animateID,1+ +_classPrivateFieldGet(r,_animateID)),r.canvas.opacity=1,r.animate()}}),(s.x+s.dx*s.speed<=0||95<s.x+s.dx*s.speed)&&(s.dx=-s.dx),s.x+=s.dx*s.speed,s.y+s.dy*s.speed<-10&&(s.dy=Math.abs(s.dy)),110<s.y+s.dy*s.speed&&(r.field.removeChild(s),r.enemies.splice(i,1)),1===s.type&&r.animateObject(s,8,8),s.y+=s.dy*s.speed}),r.bonuses.forEach(function(e,t){e.y+e.dy*e.speed<-10&&(e.dy=Math.abs(e.dy)),110<e.y+e.dy*e.speed&&(r.field.removeChild(e),r.bonuses.splice(t,1)),e.type<=4&&r.animateObject(e,8,4),4<e.type&&r.animateObject(e,5,4),e.y+=e.dy*e.speed}),r.enemyShoots.forEach(function(e,t){return e.x>r.player.x&&e.x<r.player.x+5&&e.y>r.player.y&&e.y<r.player.y+6?(r.field.removeChild(e),r.enemyShoots.splice(t,1),void r.loseMessage()):e.x+e.dx*e.speed<=-2||101<e.x+e.dx*e.speed?(r.field.removeChild(e),void r.enemyShoots.splice(t,1)):(e.x+=e.dx*e.speed,e.y+e.dy*e.speed<=-2||101<e.y+e.dy*e.speed?(r.field.removeChild(e),void r.enemyShoots.splice(t,1)):void(e.y+=e.dy*e.speed))})}),_defineProperty(this,"shipFire",function(){if(!(r.paused||30<r.shoots.length)){var e=document.createElement("div");if(r.field.appendChild(e),e.x=r.player.x+2.2,e.y=r.player.y-.7,e.dx=0,e.dy=-1,e.speed=.5,e.type=r.player.weapon,2==r.player.weapon){var t=e.cloneNode(!0),a=e.cloneNode(!0);r.field.appendChild(t),r.field.appendChild(a),t.x=r.player.x+2.2,t.y=r.player.y-.7,t.dx=-.3,t.dy=-1,t.speed=.5,t.type=r.player.weapon,a.x=r.player.x+2.2,a.y=r.player.y-.7,a.dx=.3,a.dy=-1,a.speed=.5,a.type=r.player.weapon,t.classList.add("shoot"),t.classList.add("shoot".concat(r.player.weapon)),a.classList.add("shoot"),a.classList.add("shoot".concat(r.player.weapon)),r.shoots.push(t),r.shoots.push(a)}e.classList.add("shoot"),e.classList.add("shoot".concat(r.player.weapon)),r.shoots.push(e)}}),_defineProperty(this,"addEnemy",function(e){if(!(r.emptyRide||40<r.enemies.length)){var t=document.createElement("div");r.field.appendChild(t),(t=Object.assign(t,e)).health=e.health||0,1===t.type&&(t.style.backgroundPositionX=0,t.style.backgroundPositionY=0,t.style.transform="rotate("+Math.floor(90*Math.random())+"deg)",t.timerRotate=0,t.timerRotateMax=30*(3-t.dy),t.timerRotateMax<3&&(t.timerRotateMax=3)),t.classList.add("enemy"),t.classList.add("enemy".concat(t.type)),r.enemies.push(t)}}),_defineProperty(this,"bonusActivate",function(e){switch(e){case 1:r.player.bonus1+=1e3,r.player.weapon=2;break;case 2:r.player.bonus2+=300,r.slowMotion=2,r.player.speed=1,r.changeMode("hyper");break;case 3:case 4:case 5:case 6:case 7:r.addScore(1e4)}}),_defineProperty(this,"changeMode",function(e){if("hyper"!==_classPrivateFieldGet(r,_mode))switch(r.field.classList.remove("colorBurn"),r.field.classList.remove("hardLight"),r.field.classList.remove("darken"),e){case"wave":r.field.classList.add("hardLight"),_classPrivateFieldSet(r,_mode,"wave");break;case"boss":r.field.classList.add("colorBurn"),_classPrivateFieldSet(r,_mode,"boss");break;case"hyper":r.field.classList.add("darken"),_classPrivateFieldSet(r,_mode,"hyper")}}),_defineProperty(this,"offHyperMode",function(e){r.field.classList.remove("darken"),_classPrivateFieldSet(r,_mode,e),r.changeMode(e)}),_defineProperty(this,"newWave",function(){.7<_classPrivateFieldGet(r,_speed)?_classPrivateFieldSet(r,_speed,.1):_classPrivateFieldSet(r,_speed,_classPrivateFieldGet(r,_speed)+_classPrivateFieldGet(r,_accelerate)),_classPrivateFieldSet(r,_enemyDy,_classPrivateFieldGet(r,_enemyDy)+.5);for(var e={x:10,y:-18,dx:.5,dy:.3,speed:.1,type:2},t=0;t<30;t++)e.shootTimer=Math.floor(100*Math.random()),10===t&&(e.x-=67,e.y+=4),20===t&&(e.x-=73,e.y+=5),e.x+=7,e.y+=0,r.addEnemy(e);r.changeMode("wave")}),_defineProperty(this,"addBoss",function(e){var t={x:10,y:-2,dx:3,dy:.1,speed:.1,type:e,health:15};r.changeMode("boss"),r.addEnemy(t),r.emptyRide=!0}),_defineProperty(this,"addRandomEnemy",function(e){if(!r.emptyRide){var t={x:10+Math.floor(80*Math.random()),y:-7,dx:4*Math.random()-2,dy:_classPrivateFieldGet(r,_enemyDy)+Math.random()*(2-_classPrivateFieldGet(r,_enemyDy)),speed:.1+.1*Math.random(),type:e};3===e&&(t.dy+=3),r.addEnemy(t)}}),_defineProperty(this,"startGame",function(){r.canvas.style.width="7vw",r.canvas.style.height="7vw",r.ship.style.opacity=1,_classPrivateFieldSet(r,_timer,setInterval(function(){_classPrivateFieldGet(r,_paused)||(_classPrivateFieldSet(r,_timeLine,_classPrivateFieldGet(r,_timeLine)+1/r.slowMotion),r.drawAll(),r.shipMove(),r.checkBonusTime(),_classPrivateFieldGet(r,_timeLine)%r.slowMotion==0&&(r.enemiesMove(),r.backgroundShift()),3700<_classPrivateFieldGet(r,_timeLine)||(3700===_classPrivateFieldGet(r,_timeLine)&&(r.addBoss(7),_classPrivateFieldSet(r,_speed,0),r.emptyRide=!0,setTimeout(r.checkFreeSky,1e3)),_classPrivateFieldGet(r,_timeLine)%150==0&&r.addRandomEnemy(Math.floor(1+3*Math.random())),_classPrivateFieldGet(r,_timeLine)%1250==0&&r.newWave()))},_classPrivateFieldGet(r,_tik))),r.paused=!1,r.emptyRide=!1}),_defineProperty(this,"resetGame",function(){r.paused=!0,clearInterval(_classPrivateFieldGet(r,_timer)),r.player={x:47,y:80,dx:0,dy:0,speed:.5,weapon:1,bonus1:0,bonus2:0,bonus3:0},r.field.querySelectorAll(".shoot").forEach(function(e){r.field.removeChild(e)}),r.field.querySelectorAll(".enemy").forEach(function(e){r.field.removeChild(e)}),r.field.querySelectorAll(".bonus").forEach(function(e){r.field.removeChild(e)}),r.emptyRide=!1,r.shoots=[],r.bonuses=[],r.enemyShoots=[],r.enemies=[],_classPrivateFieldSet(r,_timeLine,1),_classPrivateFieldSet(r,_speed,.1),_classPrivateFieldSet(r,_accelerate,.1),_classPrivateFieldSet(r,_enemyDy,1),_classPrivateFieldSet(r,_score,0),_classPrivateFieldSet(r,_skyPosY,0),r.changeMode("normal")}),_defineProperty(this,"animateObject",function(e,t,a){if(0<e.timerRotate)e.timerRotate--;else{e.timerRotate=e.timerRotateMax;var s=Number(e.style.backgroundPositionX.slice(0,-2))-7,i=Number(e.style.backgroundPositionY.slice(0,-2));s<=-7*t&&(s=0,i-=7),i<=-7*a&&(i=s=0),e.style.backgroundPosition=s+"vw "+i+"vw"}}),_defineProperty(this,"checkFreeSky",function(){return 0===r.enemies.length?(r.offHyperMode(),r.changeMode("normal"),setTimeout(r.winMessage,3e3),!0):(setTimeout(r.checkFreeSky,1e3),!1)}),_defineProperty(this,"winMessage",function(){_classPrivateFieldSet(r,_paused,!_classPrivateFieldGet(r,_paused)),r.msgBox.classList.remove("hide"),r.msgBox.innerHTML="You WIN!<br/>Your score: ".concat(_classPrivateFieldGet(r,_score),' <br/><div class="newGameBtn">next Level</div>'),r.msgBox.querySelector(".newGameBtn").addEventListener("click",function(){r.msgBox.classList.add("hide"),r.resetGame(),r.startGame()})}),_defineProperty(this,"loseMessage",function(){_classPrivateFieldSet(r,_paused,!_classPrivateFieldGet(r,_paused)),r.canvas.style.left=r.player.x-9+"vw",r.canvas.style.top=r.player.y-9+"vh",r.canvas.style.width="20vw",r.canvas.style.height="20vw",_classPrivateFieldSet(r,_animateID,1+ +_classPrivateFieldGet(r,_animateID)),r.animate(),r.ship.style.opacity=0,setTimeout(function(){r.msgBox.classList.remove("hide"),r.msgBox.innerHTML="Your ship destroyed!<br/>Your score: ".concat(_classPrivateFieldGet(r,_score),' <br/><div class="newGameBtn">avange!</div>'),r.msgBox.querySelector(".newGameBtn").addEventListener("click",function(){r.msgBox.classList.add("hide"),r.resetGame(),r.startGame()}),r.ship.style.opacity=.3},1700)}),_defineProperty(this,"animate",function(){var e=requestAnimationFrame(r.animate),t=r.canvas.getContext("2d");t.clearRect(0,0,128,128),e<48*_classPrivateFieldGet(r,_animateID)?(r.canvas.style.opacity="1",r.canvas.used=!0,_classPrivateFieldGet(r,_bang).update()):(r.canvas.style.opacity="0",r.canvas.used=!1,cancelAnimationFrame(e)),_classPrivateFieldGet(r,_bang).draw(0,0,t)}),_defineProperty(this,"refreshField",function(){r.field.querySelectorAll(".enemy").forEach(function(e){e.style.opacity="0"}),r.enemies.forEach(function(e){e.style.opacity="1"})}),this.field=t,this.ship=a,this.score=s,this.msgBox=i,this.canvas=o,this.timeLevel=n,this.enemiesGenerationSpeed=l,this.fireSpeed=d,this.control=c,this.player={x:47,y:80,dx:0,dy:0,speed:.9,weapon:1,bonus1:0,bonus2:0,bonus3:0},this.emptyRide=!1,this.shoots=[],this.bonuses=[],this.enemies=[],this.enemyShoots=[]}return _createClass(y,[{key:"checkBonusTime",value:function(){0===this.player.bonus1&&0===this.player.bonus2&&0===this.player.bonus3||(0<this.player.bonus1&&this.player.bonus1--,0<this.player.bonus2&&this.player.bonus2--,0<this.player.bonus3&&this.player.bonus3--,1===this.player.bonus1&&(this.player.weapon=1),1===this.player.bonus2&&(this.slowMotion=1,this.player.speed=.9,this.offHyperMode("wave")),this.player.bonus3)}},{key:"addScore",value:function(e){_classPrivateFieldSet(this,_score,_classPrivateFieldGet(this,_score)+Math.floor(e)),this.score.innerText=_classPrivateFieldGet(this,_score)}},{key:"paused",set:function(e){_classPrivateFieldSet(this,_paused,Boolean(e))},get:function(){return _classPrivateFieldGet(this,_paused)}},{key:"slowMotion",set:function(e){_classPrivateFieldSet(this,_slowMotion,Math.floor(e))},get:function(){return _classPrivateFieldGet(this,_slowMotion)}},{key:"magnitoPoint",set:function(e){_classPrivateFieldSet(this,_magnitoPoint,e)},get:function(){return _classPrivateFieldGet(this,_magnitoPoint)}},{key:"autoFire",set:function(e){_classPrivateFieldSet(this,_autoFire,Boolean(e))},get:function(){return _classPrivateFieldGet(this,_autoFire)}}]),y}(),_paused=new WeakMap,_slowMotion=new WeakMap,_magnitoPoint=new WeakMap,_autoFire=new WeakMap,_timer=new WeakMap,_timeLine=new WeakMap,_tik=new WeakMap,_speed=new WeakMap,_accelerate=new WeakMap,_enemyDy=new WeakMap,_animateID=new WeakMap,_score=new WeakMap,_skyPosY=new WeakMap,_mode=new WeakMap,_bang=new WeakMap,loaderImages=function e(t){var a=this;_classCallCheck(this,e),_defineProperty(this,"statusUpdate",function(){a.msgBox.innerHTML="<h1>Loaded ".concat(a.percent/100," %</h1>")}),_defineProperty(this,"notifyLoaded",function(){a.percent+=a.step,a.statusUpdate(),9900<a.percent&&(a.msgBox.innerHTML="<h1>Success loaded.<br/> For start play press <button>'ESC'</button> </h1>")});var s=[];this.percent=0,this.msgBox=t,this.step=Math.floor(1e4/(arguments.length<=1?0:arguments.length-1));for(var i=0;i<(arguments.length<=1?0:arguments.length-1);i++)s[i]=new Image,s[i].onload=this.notifyLoaded,s[i].src=i+1<1||arguments.length<=i+1?void 0:arguments[i+1]};document.addEventListener("DOMContentLoaded",function(e){var s=document.querySelector(".field"),t=document.querySelector(".player"),a=document.querySelector(".score"),i=document.querySelector(".messageBox"),r=document.getElementById("canvas");r.style.position="fixed",r.style.left="0",r.style.top="0",r.style.opacity="0",r.used=!1,s.style.backgroundPositionX="0vw",s.style.backgroundPositionY="0vh";new loaderImages(i,"./img/fon.jpg","./img/bang.png","./img/ship.png","./img/bang.png","./img/asteroid.png","./img/enemy02.png","./img/enemy03.png","./img/enemy07.png","./img/bonus1.png","./img/bonus2.png","./img/bonus3.png","./img/bonus4.png","./img/bonus5.png","./img/bonus6.png","./img/bonus7.png");var o=new Game({field:s,ship:t,msgBox:i,canvas:r,score:a,timeLevel:6e4,enemiesGenerationSpeed:2e3,fireSpeed:600,controlType:"mouse"});o.startGame(),o.paused=!0,i.innerHtml,i.classList.remove("hide"),setInterval(function(){o.autoFire&&o.shipFire()},o.fireSpeed),document.addEventListener("keydown",function(e){switch(e.keyCode){case 71:o.autoFire=!o.autoFire;break;case 49:o.player.weapon=1;break;case 50:o.player.weapon=2;break;case 51:o.control="wasd",s.style.cursor="pointer";break;case 52:o.control="mouse",s.style.cursor="crosshair";break;case 27:case 80:o.paused=!o.paused,i.classList.add("hide")}if("mouse"!==o.control)switch(e.keyCode){case 87:o.player.dy=-1;break;case 65:o.player.dx=-1;break;case 83:o.player.dy=1;break;case 68:o.player.dx=1}}),document.addEventListener("keyup",function(e){if("mouse"!==o.control)switch(e.keyCode){case 87:o.player.dy=0;break;case 65:o.player.dx=0;break;case 83:o.player.dy=0;break;case 68:o.player.dx=0;break;case 70:o.shipFire()}}),document.addEventListener("mousemove",function(e){if("wasd"!==o.control){var t=Math.floor(e.clientX/document.documentElement.clientWidth*100),a=Math.floor(e.clientY/document.documentElement.clientHeight*100);o.magnitoPoint={x:t,y:a},s.style.cursor="crosshair",t>o.player.x+2?o.player.dx=1:o.player.dx=-1,a>o.player.y+3?o.player.dy=1:o.player.dy=-1}}),document.addEventListener("click",function(e){o.shipFire()}),document.addEventListener("contextmenu",function(e){e.preventDefault(),o.autoFire=!o.autoFire}),document.addEventListener("click",function(e){"BUTTON"===e.target.tagName&&(e.preventDefault(),o.paused=!o.paused,i.classList.add("hide"))})});
